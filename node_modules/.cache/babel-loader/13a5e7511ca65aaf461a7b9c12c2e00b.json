{"ast":null,"code":"var _jsxFileName = \"/Users/mayankpratapsingh/Documents/GitHub/slotfinderIndia/src/SearchForm.jsx\",\n    _s = $RefreshSig$();\n\nimport Strings from \"./Strings\";\nimport Dropdown from \"react-dropdown\";\nimport \"react-dropdown/style.css\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchForm = () => {\n  _s();\n\n  let [districtsData, districtDataChanged] = useState([]);\n  let [districts, districtchanged] = useState([]);\n  let [stateData, stateDataChanged] = useState([]);\n  let [states, statechanged] = useState([]);\n  let [selectedDistrict, selectedDistrictchanged] = useState('');\n\n  const onStateChange = e => {\n    let id = stateData.filter(state => {\n      if (state.state_name === e.value) {\n        return state;\n      }\n    })[0].state_id;\n    axios.get(`https://cdn-api.co-vin.in/api/v2/admin/location/districts/${id}`).then(response => {\n      districtDataChanged(response.data.districts);\n      districtchanged(response.data.districts.map(district => {\n        return district.district_name;\n      }));\n    });\n  };\n\n  const onDistrictChange = e => {\n    let id = districtsData.filter(district => {\n      if (district.district_name === e.value) {\n        return district;\n      }\n    })[0].district_id;\n    selectedDistrictchanged(id);\n  };\n\n  const onSearch = e => {\n    e.preventDefault();\n    let currentDate = new Date();\n    currentDate = `${currentDate.getDay()}-${currentDate.getMonth()}-${currentDate.getFullYear()}`;\n\n    if (selectedDistrict !== '') {\n      axios.get(`https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=${selectedDistrict}&date=${currentDate}`).then(response => {\n        console.log(response.data);\n      });\n    } else {\n      console.log(\"validation error\");\n    }\n  };\n\n  const onFocuses = () => {\n    axios.get(\"https://cdn-api.co-vin.in/api/v2/admin/location/states\").then(response => {\n      stateDataChanged(response.data.states);\n      statechanged(response.data.states.map(state => {\n        return state.state_name;\n      }));\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"districtselector\",\n      onSubmit: onSearch,\n      children: [/*#__PURE__*/_jsxDEV(Dropdown, {\n        options: states,\n        onChange: onStateChange,\n        onFocus: onFocuses,\n        placeholder: \"Select State\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n        options: districts,\n        onChange: onDistrictChange,\n        placeholder: \"Select District\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchForm, \"QTS4YY5BKrDTsyEpWvGmBd/sU4U=\");\n\n_c = SearchForm;\nexport default SearchForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchForm\");","map":{"version":3,"sources":["/Users/mayankpratapsingh/Documents/GitHub/slotfinderIndia/src/SearchForm.jsx"],"names":["Strings","Dropdown","axios","useState","SearchForm","districtsData","districtDataChanged","districts","districtchanged","stateData","stateDataChanged","states","statechanged","selectedDistrict","selectedDistrictchanged","onStateChange","e","id","filter","state","state_name","value","state_id","get","then","response","data","map","district","district_name","onDistrictChange","district_id","onSearch","preventDefault","currentDate","Date","getDay","getMonth","getFullYear","console","log","onFocuses"],"mappings":"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","sourcesContent":["import Strings from \"./Strings\";\nimport Dropdown from \"react-dropdown\";\nimport \"react-dropdown/style.css\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\n\nconst SearchForm = () => {\n  let [districtsData,districtDataChanged] = useState([]);\n  let [districts,districtchanged] = useState([]);\n  let [stateData,stateDataChanged] = useState([]);\n  let [states,statechanged] = useState([]);\n  let [selectedDistrict,selectedDistrictchanged] = useState('');\n\n  const onStateChange = (e) => {\n    let id = stateData.filter((state)=>{\n      if(state.state_name === e.value){\n        return state;\n      }\n    })[0].state_id;\n    axios\n      .get(`https://cdn-api.co-vin.in/api/v2/admin/location/districts/${id}`)\n      .then((response) => {\n        districtDataChanged(response.data.districts);\n        districtchanged(\n          response.data.districts.map((district) => {\n            return district.district_name;\n          })\n        );\n      })\n  };\n\n  const onDistrictChange = (e) => {\n    let id = districtsData.filter((district) => {\n      if (district.district_name === e.value) {\n        return district;\n      }\n    })[0].district_id;\n    selectedDistrictchanged(id);\n  };\n\n  const onSearch = (e) => {\n    e.preventDefault();\n    let currentDate = new Date();\n    currentDate = `${currentDate.getDay()}-${currentDate.getMonth()}-${currentDate.getFullYear()}`;\n    if (selectedDistrict !== '') {\n      axios\n        .get(\n          `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=${selectedDistrict}&date=${currentDate}`\n        )\n        .then((response) => {\n          console.log(response.data);\n        });\n    } else {\n      console.log(\"validation error\")\n    }\n  };\n\n  const onFocuses = () => {\n    axios\n      .get(\"https://cdn-api.co-vin.in/api/v2/admin/location/states\")\n      .then((response) => {\n        stateDataChanged(response.data.states);\n        statechanged(\n          response.data.states.map((state) => {\n            return state.state_name;\n          })\n        );\n      })\n  };\n\n  return (\n    <div>\n      <form id=\"districtselector\" onSubmit={onSearch}>\n      <Dropdown\n        options={states}\n        onChange={onStateChange}\n        onFocus={onFocuses}\n        placeholder=\"Select State\"\n      />\n      <Dropdown\n         options={districts}\n        onChange={onDistrictChange}\n        placeholder=\"Select District\"\n      />\n      <button type=\"submit\">Search</button>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchForm;\n"]},"metadata":{},"sourceType":"module"}