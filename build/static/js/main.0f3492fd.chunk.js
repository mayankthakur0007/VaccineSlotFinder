(this["webpackJsonpslot-finder-india"]=this["webpackJsonpslot-finder-india"]||[]).push([[0],{15:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),i=n(16),r=n.n(i),s=n(3),d=n(0),o=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h2",{children:"Slot Finder India (For All Ages)"})})},l=n(6),j=n.n(l),u=(n(23),n(4)),b=n.n(u),h=(n(15),function(t){var e=Object(c.useState)([]),n=Object(s.a)(e,2),a=n[0],i=n[1],r=Object(c.useState)([]),o=Object(s.a)(r,2),l=o[0],u=o[1],h=Object(c.useState)([]),O=Object(s.a)(h,2),p=O[0],m=O[1],f=Object(c.useState)([]),_=Object(s.a)(f,2),x=_[0],v=_[1],g=Object(c.useState)(""),S=Object(s.a)(g,2),D=S[0],y=S[1];return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{id:"districtselector",onSubmit:function(e){e.preventDefault();var n=new Date,c=n.getDate(),a=n.getMonth()+1;c<10&&(c="0"+c),a<10&&(a="0"+a),n="".concat(c,"-").concat(a,"-").concat(n.getFullYear()),""!==D?b.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(D,"&date=").concat(n)).then((function(e){t.onResult(e.data.centers)})):console.log("validation error")},children:[Object(d.jsx)("div",{className:"mar_small",children:Object(d.jsx)(j.a,{options:x,onChange:function(t){var e=p.filter((function(e){if(e.state_name===t.value)return e}))[0].state_id;b.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/".concat(e)).then((function(t){i(t.data.districts),u(t.data.districts.map((function(t){return t.district_name})))}))},onFocus:function(){b.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/states").then((function(t){m(t.data.states),v(t.data.states.map((function(t){return t.state_name})))}))},placeholder:"Select State"})}),Object(d.jsx)("div",{className:"mar_small",children:Object(d.jsx)(j.a,{options:l,onChange:function(t){var e=a.filter((function(e){if(e.district_name===t.value)return e}))[0].district_id;y(e)},placeholder:"Select District"})}),Object(d.jsx)("button",{type:"submit",className:"mar_small",children:"Search"})]})})}),O=function(t){for(var e,n,c=new Date,a=[],i=0;i<=6;i++){e=new Date(c.getFullYear(),c.getMonth(),c.getDate()+i);var r=c.getDate()+i,s=c.getMonth()+1;r<10&&(r="0"+r),s<10&&(s="0"+s),n="".concat(r,"-").concat(s,"-").concat(c.getFullYear()),a.push({date:e.toDateString(),id:i,compareDate:n})}var o=t.data.map((function(t){var e=a.map((function(e){return t.sessions.filter((function(t){return t.date===e.compareDate}))}));return e=e.map((function(t){return t[0]})),{center_id:t.center_id,center_name:t.name,center_block:t.block_name,center_state:t.state_name,center_pincode:t.pincode,center_district:t.district_name,center_address:t.address,center_fee:t.fee_type,slots:e}}));return console.log(o),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Results"}),Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Center Name"}),a.map((function(t){return Object(d.jsx)("th",{children:t.date},t.id)}))]})}),Object(d.jsx)("tbody",{children:o.map((function(t){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[t.center_name,Object(d.jsxs)("span",{children:[t.center_address,",",t.center_district,",",t.center_state,"(",t.center_pincode,")"]})]}),t.slots.map((function(t){return t?Object(d.jsx)("td",{children:Object(d.jsx)("h3",{children:t.available_capacity})},t.session_id):Object(d.jsx)("td",{children:Object(d.jsx)("h4",{children:"NA"})})}))]},t.center_id)}))})]})]})};var p=function(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),n=e[0],a=e[1],i=Object(c.useState)(!1),r=Object(s.a)(i,2),l=r[0],j=r[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)(o,{}),Object(d.jsx)(h,{onResult:function(t){a(t),j(!0)}}),l?Object(d.jsx)(O,{data:n}):null]})};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.0f3492fd.chunk.js.map