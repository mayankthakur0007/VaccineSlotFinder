{"ast":null,"code":"var _jsxFileName = \"/Users/mayankpratapsingh/Documents/GitHub/slotfinderIndia/src/SearchForm.jsx\",\n    _s = $RefreshSig$();\n\nimport Strings from \"./Strings\";\nimport Dropdown from \"react-dropdown\";\nimport \"react-dropdown/style.css\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport \"./Styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchForm = props => {\n  _s();\n\n  let [districtsData, districtDataChanged] = useState([]);\n  let [districts, districtchanged] = useState([]);\n  let [stateData, stateDataChanged] = useState([]);\n  let [states, statechanged] = useState([]);\n  let [selectedDistrict, selectedDistrictchanged] = useState('');\n\n  const onStateChange = e => {\n    let id = stateData.filter(state => {\n      if (state.state_name === e.value) {\n        return state;\n      }\n    })[0].state_id;\n    axios.get(`https://cdn-api.co-vin.in/api/v2/admin/location/districts/${id}`).then(response => {\n      districtDataChanged(response.data.districts);\n      districtchanged(response.data.districts.map(district => {\n        return district.district_name;\n      }));\n    });\n  };\n\n  const onDistrictChange = e => {\n    let id = districtsData.filter(district => {\n      if (district.district_name === e.value) {\n        return district;\n      }\n    })[0].district_id;\n    selectedDistrictchanged(id);\n  };\n\n  const onSearch = e => {\n    e.preventDefault();\n    var thisDay = new Date();\n\n    for (var i = 0; i < 7; i++) {\n      thisDay.setDate(startingDay.getDate() + i);\n      console.log(thisDay.format());\n    }\n\n    let currentDate = new Date();\n    let dd = currentDate.getDate();\n    let mm = currentDate.getMonth() + 1;\n\n    if (dd < 10) {\n      dd = \"0\" + dd;\n    }\n\n    if (mm < 10) {\n      mm = \"0\" + mm;\n    }\n\n    currentDate = `${dd}-${mm}-${currentDate.getFullYear()}`;\n\n    if (selectedDistrict !== \"\") {\n      axios.get(`https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=${selectedDistrict}&date=${currentDate}`).then(response => {\n        props.onResult(response.data.centers);\n      });\n    } else {\n      console.log(\"validation error\");\n    }\n  };\n\n  const onFocuses = () => {\n    axios.get(\"https://cdn-api.co-vin.in/api/v2/admin/location/states\").then(response => {\n      stateDataChanged(response.data.states);\n      statechanged(response.data.states.map(state => {\n        return state.state_name;\n      }));\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"districtselector\",\n      onSubmit: onSearch,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mar_small\",\n        children: /*#__PURE__*/_jsxDEV(Dropdown, {\n          options: states,\n          onChange: onStateChange,\n          onFocus: onFocuses,\n          placeholder: \"Select State\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mar_small\",\n        children: /*#__PURE__*/_jsxDEV(Dropdown, {\n          options: districts,\n          onChange: onDistrictChange,\n          placeholder: \"Select District\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"mar_small\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchForm, \"QTS4YY5BKrDTsyEpWvGmBd/sU4U=\");\n\n_c = SearchForm;\nexport default SearchForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchForm\");","map":{"version":3,"sources":["/Users/mayankpratapsingh/Documents/GitHub/slotfinderIndia/src/SearchForm.jsx"],"names":["Strings","Dropdown","axios","useState","SearchForm","props","districtsData","districtDataChanged","districts","districtchanged","stateData","stateDataChanged","states","statechanged","selectedDistrict","selectedDistrictchanged","onStateChange","e","id","filter","state","state_name","value","state_id","get","then","response","data","map","district","district_name","onDistrictChange","district_id","onSearch","preventDefault","thisDay","Date","i","setDate","startingDay","getDate","console","log","format","currentDate","dd","mm","getMonth","getFullYear","onResult","centers","onFocuses"],"mappings":"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","sourcesContent":["import Strings from \"./Strings\";\nimport Dropdown from \"react-dropdown\";\nimport \"react-dropdown/style.css\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport \"./Styles.css\";\n\nconst SearchForm = (props) => {\n  let [districtsData,districtDataChanged] = useState([]);\n  let [districts,districtchanged] = useState([]);\n  let [stateData,stateDataChanged] = useState([]);\n  let [states,statechanged] = useState([]);\n  let [selectedDistrict,selectedDistrictchanged] = useState('');\n\n  const onStateChange = (e) => {\n    let id = stateData.filter((state)=>{\n      if(state.state_name === e.value){\n        return state;\n      }\n    })[0].state_id;\n    axios\n      .get(`https://cdn-api.co-vin.in/api/v2/admin/location/districts/${id}`)\n      .then((response) => {\n        districtDataChanged(response.data.districts);\n        districtchanged(\n          response.data.districts.map((district) => {\n            return district.district_name;\n          })\n        );\n      })\n  };\n\n  const onDistrictChange = (e) => {\n    let id = districtsData.filter((district) => {\n      if (district.district_name === e.value) {\n        return district;\n      }\n    })[0].district_id;\n    selectedDistrictchanged(id);\n  };\n\n  const onSearch = (e) => {\n    e.preventDefault();\n    var thisDay = new Date();\n    for(var i=0; i<7; i++) {\n      thisDay.setDate(startingDay.getDate() + i);\n      console.log(thisDay.format());\n    }\n    let currentDate = new Date();\n    let dd = currentDate.getDate();\n    let mm = currentDate.getMonth()+1;\n    if (dd < 10) {\n      dd = \"0\" + dd;\n    }\n\n    if (mm < 10) {\n      mm = \"0\" + mm;\n    }\n    currentDate = `${dd}-${mm}-${currentDate.getFullYear()}`;\n    if (selectedDistrict !== \"\") {\n      axios\n        .get(\n          `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=${selectedDistrict}&date=${currentDate}`\n        )\n        .then((response) => {\n          props.onResult(response.data.centers)\n        });\n    } else {\n      console.log(\"validation error\");\n    }\n  };\n\n  const onFocuses = () => {\n    axios\n      .get(\"https://cdn-api.co-vin.in/api/v2/admin/location/states\")\n      .then((response) => {\n        stateDataChanged(response.data.states);\n        statechanged(\n          response.data.states.map((state) => {\n            return state.state_name;\n          })\n        );\n      })\n  };\n\n  return (\n    <div>\n      <form id=\"districtselector\" onSubmit={onSearch}>\n        <div className=\"mar_small\">\n      <Dropdown\n        options={states}\n        onChange={onStateChange}\n        onFocus={onFocuses}\n        placeholder=\"Select State\"\n      />\n      </div>\n      <div className=\"mar_small\">\n      <Dropdown\n         options={districts}\n        onChange={onDistrictChange}\n        placeholder=\"Select District\"\n      />\n      </div>\n      <button type=\"submit\" className=\"mar_small\">Search</button>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchForm;\n"]},"metadata":{},"sourceType":"module"}